{% extends "base.html" %}
{% block title %}Welcome to Another SpotiStats App!{% endblock title %}

{% block content %}
  <script type="text/javascript"> // https://stackoverflow.com/questions/386281/how-to-implement-select-all-check-box-in-html
    function select_all() {
      let boxes = document.getElementsByName('checkbox');
      for (let itr = 0; itr < boxes.length; itr++){
        boxes[itr].checked = true;
      }
    }

    function clear_all() {
      let boxes = document.getElementsByName('checkbox');
      for (let itr = 0; itr < boxes.length; itr++){
        boxes[itr].checked = false;
      }
    }

    function clear_output() {
      document.getElementById("output").innerHTML = "";
    }
  </script>

  <h2 style="padding-top: 12px;">Data Selections</h2>
  <p style="margin: 0; padding: 0;">Make selections from the below options of data you would like to gather</p>
  <p style="margin: 0; padding: 0;font-size: 12px; font-style: italic;">
   The first run requires you to make a selection to trigger authentication with Spotify.<br/>
    Upon returning to the website, make your selections again.</p>
  <hr/>

  <div style="padding-bottom: 8px;" class="button">
    <button type="button" class="btn btn-outline-primary" onclick="select_all()">Select All</button>
    <button type="button" class="btn btn-outline-primary" onclick="clear_all()">Clear All</button>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="checkbox" id="likes_count">
    <label class="form-check-label" for="likes_count">
      Amount of songs liked
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="checkbox" id="fav_song">
    <label class="form-check-label" for="fav_song">
      Favorite song (most listened to)
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="checkbox" id="fav_artist">
    <label class="form-check-label" for="fav_artist">
      Favorite artist (by amount of their songs you listened to)
    </label>
  </div>

  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="checkbox" id="recent_tracks">
    <label class="form-check-label" for="recent_tracks">
      Last five tracks listened to
    </label>
  </div>

  <div style="padding-top: 8px;" class="button"> <!--Goes to auth.js-->
    <button type="button" class="btn btn-outline-primary" onclick="process_choices()">Run!</button>
  </div>

  <hr style="margin-bottom: 0;"/>

  <div style="padding-top: 8px;" class="button">
    <button type="button" class="btn btn-outline-primary" onclick="clear_output()">Clear retrieved data</button>
  </div>

  <div class="form-group" style="padding-top: 8px;">
    <label for="output">Output:</label>
    <textarea class="form-control" id="output" rows="10"></textarea>
  </div>

{% endblock content %}
